[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial monitor speed (must match Serial.begin(115200))
monitor_speed = 115200

; Libraries
lib_deps =
    adafruit/RTClib @ ^2.1.3
    arduino-libraries/NTPClient @ ^3.2.1

; Build flags
; Uncomment the line below to enable ESP RainMaker (requires RainMaker library + partition table)
; build_flags = -D USE_RAINMAKER
; board_build.partitions = rainmaker.csv

; ==============================================================================
; Native test environment â€” runs on host machine (no ESP32 required)
; ==============================================================================
[env:native]
platform = native
build_flags =
    -std=c++17
    -I test/mocks
    -I include
test_build_src = yes
lib_extra_dirs = test
lib_deps =
lib_ignore =
    RTClib
    NTPClient
    WiFi
    Wire
    Preferences
build_src_filter =
    +<*>
    -<main.cpp>
    -<RainMakerManager.cpp>
    -<TimeManager.cpp>
test_framework = unity
